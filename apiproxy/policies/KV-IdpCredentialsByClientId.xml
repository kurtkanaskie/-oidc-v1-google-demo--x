<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<KeyValueMapOperations continueOnError="false" enabled="true" name="KV-IdpCredentialsByClientId" mapIdentifier="oidc-internal-app-to-external-app">
    <ExclusiveCache>false</ExclusiveCache>
    <ExpiryTimeInSecs>300</ExpiryTimeInSecs>
    <Get assignTo="idp_client_id" index="1">
        <Key>
            <Parameter>KEYS</Parameter>
            <Parameter ref="client_id"/>
        </Key>
    </Get>
    <Get assignTo="idp_client_secret" index="2">
        <Key>
            <Parameter>KEYS</Parameter>
            <Parameter ref="client_id"/>
        </Key>
    </Get>
    <!-- get space separated list seperately in case there's a comma in the values -->
    <Get assignTo="idp_scope">
        <Key>
            <Parameter>SCOPES</Parameter>
            <Parameter ref="client_id"/>
        </Key>
    </Get>
    <Scope>environment</Scope>
</KeyValueMapOperations>